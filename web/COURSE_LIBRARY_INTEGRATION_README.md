# 课程库与ClassDetail页面集成功能说明

## 功能概述
实现了课程库与ClassDetail页面的深度集成，用户可以在ClassDetail页面中直接选择课程库中的课程，实现课程资源的复用和管理。

## 主要功能特性

### 1. ClassDetail页面增强
- **双模式添加课程**：
  - 手动添加：传统的输入表单方式
  - 从课程库选择：直接从课程库中选择已有课程

### 2. 课程库选择界面
- **标签页切换**：在添加课程弹窗中提供两个标签页
- **课程列表展示**：显示课程库中的所有课程
- **课程信息预览**：显示课程名称、类型、描述、时长等信息
- **选择状态指示**：选中的课程会有明显的视觉反馈

### 3. 课程关联功能
- **课程库ID关联**：从课程库选择的课程会保存课程库ID
- **课程库链接按钮**：关联的课程卡片会显示课程库链接按钮
- **快速跳转**：点击链接按钮可直接跳转到课程库查看原课程

### 4. 编辑功能增强
- **智能编辑**：编辑课程时会自动识别来源（手动/课程库）
- **数据同步**：编辑时会自动加载课程库数据
- **状态保持**：保持原有的课程库关联关系

### 5. 高亮显示功能
- **课程定位**：从ClassDetail跳转到课程库时会自动定位到对应课程
- **视觉高亮**：目标课程会有动画高亮效果
- **平滑滚动**：自动滚动到目标课程位置

## 使用流程

### 在ClassDetail页面添加课程库课程
1. 点击"添加课程"按钮
2. 选择"从课程库选择"标签页
3. 在课程列表中选择需要的课程
4. 点击"添加"按钮完成添加

### 查看课程库关联
1. 在ClassDetail页面的课程卡片上
2. 点击绿色的书本图标（课程库链接按钮）
3. 自动跳转到课程库页面并高亮显示对应课程

### 编辑关联课程
1. 点击课程卡片上的编辑按钮
2. 系统会自动识别课程来源
3. 如果是课程库课程，会自动切换到课程库选择模式
4. 可以重新选择课程库中的其他课程

## 技术实现

### 数据结构
```javascript
// 课程卡片数据结构
{
  title: "课程名称",
  duration: "课程时长",
  content: "课程内容",
  courseLibraryId: "课程库ID" // 新增字段，用于关联课程库
}
```

### 关键函数
- `loadCourseLibrary()`: 加载课程库数据
- `selectCourse(course)`: 选择课程库中的课程
- `addCustomCard()`: 添加课程（支持课程库关联）
- `viewCourseInLibrary(courseLibraryId)`: 跳转到课程库查看
- `highlightCourse(courseId)`: 高亮显示指定课程

### 组件通信
- ClassDetail ↔ CourseCardSimple: 通过事件通信
- ClassDetail ↔ CourseLibrary: 通过路由参数和localStorage

## 样式特性

### 标签页样式
- 现代化的标签页设计
- 活跃状态有明显的视觉反馈
- 平滑的切换动画

### 课程选择列表
- 卡片式布局
- 悬停和选中状态效果
- 响应式设计

### 高亮动画
- 脉冲动画效果
- 阴影和缩放变化
- 3秒后自动消失

## 数据持久化
- 课程库数据存储在localStorage中
- 课程关联信息随课程卡片一起保存
- 页面刷新后关联关系保持不变

## 用户体验优化
- 空状态提示：课程库为空时提供友好的提示
- 快速跳转：一键跳转到课程库添加课程
- 视觉反馈：所有交互都有明确的视觉反馈
- 错误处理：完善的错误处理和边界情况处理 